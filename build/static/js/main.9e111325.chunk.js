(this["webpackJsonpzeta-case-study"]=this["webpackJsonpzeta-case-study"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(6),i=n.n(r),o=(n(14),n(15),n(4)),l=n.n(o),u=n(8),s=n(7),d=n(1),m=function(e){var t=e.width,n=void 0===t?44:t,a=e.height,r=void 0===a?44:a,i=e.color,o=void 0===i?"#c3c3c3":i;return c.a.createElement("svg",{width:n,height:r,viewBox:" 0 0 ".concat(n," ").concat(r),xmlns:"http://www.w3.org/2000/svg",stroke:o},c.a.createElement("g",{fill:"none",fillRule:"evenodd",strokeWidth:"2"},c.a.createElement("circle",{cx:n/2,cy:r/2,r:"1"},c.a.createElement("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),c.a.createElement("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})),c.a.createElement("circle",{cx:n/2,cy:r/2,r:"1"},c.a.createElement("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),c.a.createElement("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"}))))},v=function(e){var t=e.data,n=void 0===t?{}:t,r=(e.width,e.height,n.url),i=n.type,o=Object(a.useState)(!0),l=Object(d.a)(o,2),u=l[0],s=l[1],v=function(){s(!1)};return"video"===i?c.a.createElement("video",{width:200,height:200,controls:!0},c.a.createElement("source",{src:r})):c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{style:{visibility:u?"hidden":"visible"},onLoad:v,width:200,height:200,src:r}),u&&c.a.createElement(m,{color:"blue"}))},f=function(e){var t=Object(a.useRef)(null),n=function(e){var t=Object(a.useState)(e),n=Object(d.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(null),o=Object(d.a)(i,2),l=o[0],u=o[1],s=Object(a.useRef)(null),m=function(e){var t=Object(d.a)(e,1)[0];t&&u(t)};return Object(a.useEffect)((function(){var e;return s.current&&s.current.unobserve(c),s.current=new window.IntersectionObserver(m,{rootMargin:"0px",threshold:1}),c&&(null===s||void 0===s||null===(e=s.current)||void 0===e||e.observe(c)),function(){var e;c&&(null===s||void 0===s||null===(e=s.current)||void 0===e||e.unobserve(c))}}),[c]),[l,r]}(null===t||void 0===t?void 0:t.current),r=Object(d.a)(n,2),i=r[0],o=r[1],m=Object(a.useState)(null),f=Object(d.a)(m,2),b=f[0],h=f[1],E=Object(a.useState)([]),p=Object(d.a)(E,2),g=p[0],w=p[1],y=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/get-animal/".concat(t)).then((function(e){return e.json()}));case 2:n=e.sent,w([].concat(Object(u.a)(g),[n]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){var t=e.target.getAttribute("data-animal");w([]),h(t)};Object(a.useEffect)((function(){b&&i&&i.isIntersecting&&y(b)}),[b,i,y]);return Object(a.useEffect)((function(){o(t.current)}),[o,i]),c.a.createElement("div",{style:{width:"100%"}},c.a.createElement("div",null,c.a.createElement("button",{"data-animal":"dog",onClick:k},"Load Dog"),c.a.createElement("button",{"data-animal":"cat",onClick:k},"Load Cat"),c.a.createElement("button",{"data-animal":"wolf",onClick:k},"Load Wolf"),c.a.createElement("div",null,g.map((function(e,t){return c.a.createElement("div",{key:"".concat(e.url,"-").concat(t)},c.a.createElement(v,{data:e})," ")}))),c.a.createElement("div",{ref:t})))},b=function(){return c.a.createElement("div",null,c.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.9e111325.chunk.js.map